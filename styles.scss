body{
    background: #120e22;
    color: #030025;
    margin: 0;

}

$stan: #6355FF;
$text: #030025;

::selection{
    background: $stan;
    color: white;
}

#main{
    background: white;
}


#splash{
    height: 90vh;
    max-height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    gap: 48px;
    box-sizing: border-box;



    .mast{
        img{
            height: 180px;
        }
        h1{
            font-family: "ivypresto-headline", serif;
            font-size: 80px;
            font-weight: 550;
            letter-spacing: -1.8px;
            // /text-shadow: -1px 0 0 white;
            margin: 0;
            margin-bottom: 8px;

            background: -webkit-linear-gradient($text 50%, rgba($text, .5));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        h2{
            font-family: 'Geist', sans-serif;
            font-size: 18px;
            font-weight: 350;
            letter-spacing: -.55px;
            margin: 0;
            color: rgba($text, .4);

            background: -webkit-linear-gradient(rgba($text, .8) 50%, rgba($text, .5));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;

            b{
                font-weight: 600;
            }

        }
    }


}

.input{
    background: rgba(white, .05);
    padding: 6px;
    border-radius: 48px;
    width: 480px;
    display: flex;
    margin: 0 auto;
    border: 1.5px solid rgba($stan, .3);
    box-shadow: inset -2px -2px 4px rgba(black, .03), inset 2px 2px 4px rgba(white, .02),  -2px 24px 24px rgba($stan, .05);

    input{
        border: none;
        background: none;
        flex: 1;
        color: $text;
        padding: 4px 16px;
        font-family: "Inter", sans-serif;
        font-size: 15px;
        font-weight: 450;
        letter-spacing: -.4px;
        &::placeholder{
            color: rgba($text, .3);
        }
        &:focus{
            outline: none;
        }
    }

    button{
        background: #6355FF;
        border: none;
        color: white;
        font-family: "Inter", sans-serif;
        font-size: 15px;
        font-weight: 500;
        letter-spacing: -.2px;
        border-radius: 48px;
        padding: 11px 15px 12px 18px;
        box-shadow: inset -2px -2px 4px rgba(black, .1), inset 2px 2px 4px rgba(white, .15),  -4px 12px 24px rgba($text, .2);
        cursor: pointer;
        transition: .2s ease;

        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;

        img{
            height: 14px;
        }
        &:hover{
            background: #5545e0;
            gap: 8px;
        }
    }
}

.sec{
    text-align: center;
    width: 100%;
    max-width: 1200px;
    padding: 0 100px;
    box-sizing: border-box;
    margin: 60px auto;
    overflow: visible;
   // filter: drop-shadow(-24px 24px 48px rgba(black, .2));

    &.signup{
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 0px;
        overflow: visible;

        .input{
            margin-top: 40px;
            width: 400px;
        }
    }

    .header{
        padding: 40px 0 80px 0;
        h1{
            font-family: "ivypresto-headline", serif;
            font-size: 44px;
            font-weight: 600;
            letter-spacing: -.5px;
            //text-shadow: -.25px 0 0 white;
            margin: 0;
            margin-bottom: 12px;

            background: -webkit-linear-gradient($text 60%, rgba($text, .4));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        h2{
            font-family: "Geist", sans-serif;
            font-size: 16px;
            font-weight: 300;
            letter-spacing: -.3px;
            margin: 0 auto;
            color: rgba($text, .8);
            width: 440px;
            max-width: 100%;
            b{
                font-weight: 550;
            }
        }
    }

    .carousel{
        display: flex;
        flex-direction: row;
        align-items: flex-start;
        gap: 48px;

        margin: 60px auto;


        .card{
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 18px;
            //filter: drop-shadow(-12px 12px 24px rgba($text, .25));

            .banner,
            dotlottie-player.banner {
                width: 100%;
                aspect-ratio: .85;
                border-radius: 12px;
                overflow: hidden;

            }

            .expo{
                text-align: left;
                h1{
                    font-family: "ivypresto-headline", serif;
                    font-size: 28px;
                    font-weight: 550;
                    letter-spacing: 0px;
                    //text-shadow: -.25px 0 0 white;
                    margin: 0;
                    margin-bottom: 8px;
                    color: rgba($text, .8);
                }
                p{
                    font-family: "Geist", sans-serif;
                    font-size: 15px;
                    font-weight: 300;
                    letter-spacing: -.25px;
                    margin: 0;
                    color: rgba($text, .8);
                    b{
                        font-weight: 600;
                    }
                }
            }

        }
    }
}

.content{
    display: flex;
    width: 100%;
    margin: 24px auto;
    gap: 40px;
    overflow: visible;


    #linkedin{
        flex: 1;
        width: 500px;
        aspect-ratio: .95;
        max-width: 45%;
        height: fit-content;
        overflow: visible;
        filter: drop-shadow(28px 18px 24px rgba($text, .08));
    }

    .letter{
        flex: 1;
        align-items: flex-start;
        display: flex;
        flex-direction: column;
        gap: 18px;


        p{
            font-family: "Geist", sans-serif;
            font-size: 15px;
            font-weight: 350;
            letter-spacing: -.25px;
            width: 100%;
            text-align: left;
            margin: 0;
            color: rgba($text, .9);
            b{
                font-weight: 600;
            }
        }

        #signature{
            height: 100px;
            margin: 0;
            margin-top: 20px;
            filter: invert(100%);
        }
    }
}

.pfp{
    display: none;
    margin-top: -36px;
    overflow: visible;
    img{
        border-radius: 50px;
        height: 54px;
        border: 1px solid white;
    }
    #v{
        margin-left: -12px;
    }
}

.footer{
    background: #f2f1ff;
    padding: 20px 0 28px 0;
    text-align: center;
    border-radius: 18px 18px 0 0;
    p{
        font-family: "ivypresto-text", sans-serif;
        font-size: 14px;
        font-weight: 300;
        letter-spacing: -.4px;
        margin: 0;
        color: rgba($text, .8);
    }
}

/* Animation Styles */
// Keyframe definitions
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes fadeInRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes subtleFloat {
    0%, 100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-5px);
    }
}

// Initial states for animated elements
[data-float] {
    opacity: 0;
    transform: translateY(30px);
    will-change: transform, opacity;
    backface-visibility: hidden;
    content-visibility: auto;
    contain: layout paint style;

    &[data-float="fade-left"] {
        transform: translateX(-30px);
    }

    &[data-float="fade-right"] {
        transform: translateX(30px);
    }

    // Animation classes applied via JavaScript
    &.float-in {
        opacity: 1;
        animation: fadeInUp 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;

        &[data-float="fade-left"] {
            animation: fadeInLeft 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        &[data-float="fade-right"] {
            animation: fadeInRight 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }
    }

    // Class added after animation completes + grace period, or on load if already animated in session
    &.previously-animated {
        animation: none !important;
        transition: none !important;
        opacity: 1 !important;
        transform: none !important;
    }
}

// Stanley logo continuous float - this animation is independent of session
#stanley {
    animation: subtleFloat 6s ease-in-out infinite;
}

// Card hover effects
.card.float-in {
    transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);

    &:hover {
        transform: translateY(-8px);
    }
}

// Utility classes for animation handling
.resize-animation-stopper * {
    animation: none !important;
    transition: none !important;
}

.disable-hover {
    pointer-events: none;

    &, &:hover {
        pointer-events: none !important;
    }
}

// Handle animation and layout for mobile
@media screen and (max-width: 800px) {
    // Optimize animations for mobile
    [data-float] {
        // Simplify animations on mobile for better performance
        &.float-in {
            animation-duration: 0.6s;
            animation-timing-function: ease-out;
        }
    }

    // Prevent animation-related scroll jank on mobile
    html, body {
        overflow-anchor: auto;
    }

    // Ensure fixed positioning doesn't cause layout issues
    .sec .carousel .card .banner,
    .sec .carousel .card dotlottie-player.banner {
        height: auto;
    }

    #splash{
        padding-bottom: 0px;

        .mast{
            width: 90vw;
            img{
                height: 140px;
            }
            h1{
                line-height: 80%;
                padding-bottom: 22px;
            }
        }
    }

    .sec{
        width: 100vw;
        padding: 0 10vw;

        .header{
            width: 100%;
            text-align: center;
            padding: 20px 0 0px 0;
            h1{
                font-size: 48px;
                line-height: 90%;
                padding-bottom: 18px;
            }
        }

        .carousel{
            flex-direction: column;
            align-items: center;
            gap: 100px;

            .card{
                width: 100%;

            }
        }

        &.signup{
            width: 100vw;
            .input{
                box-sizing: border-box;
                width: 80vw;
            }
            .header{
                padding: 0;
            }
        }
    }

    .content{
        flex-direction: column;
        align-items: center;
        gap: 24px;

        #linkedin{
            width: 100vw;
            max-width: 100%;
        }

        .letter{

        }
    }

    .input{
        width: 80vw;
        flex-direction: column;
        border-radius: 24px;
        gap: 16px;
        padding: 14px 8px 8px 8px;
        input{
            text-align: center;
        }
        button{
            padding: 14px 0;
        }
    }

    [data-float] {
        // Ensure elements that might cause shifts have some reserved space
        // This is a general fallback. Specific elements might need more tailored rules.
        // For banners, the aspect-ratio above should handle it.
        // For other [data-float] elements, if they contain images or dynamic content,
        // consider adding min-height or aspect-ratio here too if shifts are observed.
        // For example:
        // &.some-specific-shifting-element-on-mobile {
        //    min-height: 100px; // Example value
        // }
    }

    // Ensure fixed positioning doesn't cause layout issues from a previous change
    // The .banner, lottie-player.banner rule from before might have been too broad if it set a fixed min-height.
    // The aspect-ratio approach is generally better for responsive banners.
    // Removing the fixed min-height here if aspect-ratio handles it, or adjusting as needed.
    .sec .carousel .card .banner,
    .sec .carousel .card dotlottie-player.banner {
        // The aspect-ratio from the main rule should define height relative to width.
        // If a specific min-height is still needed on mobile, it can be set here,
        // but el.style.minHeight = el.offsetHeight + 'px'; from JS should be more precise.
        // min-height: 150px; // Example: if a smaller minimum is desired on mobile than what aspect-ratio might yield at small widths.
        height: auto; // Ensure aspect-ratio can work; this was in your previous mobile CSS.
    }
}
